document.addEventListener("DOMContentLoaded",(function(){initThemeToggle();initMobileMenu();initScrollAnimation();initSmoothScroll();if(document.querySelector(".faq-question")){initFaqAccordion()}if(document.querySelector("#contact-form")){initContactForm()}}));function initThemeToggle(){const themeToggleBtn=document.getElementById("theme-toggle-btn");const htmlElement=document.documentElement;const isDarkMode=localStorage.getItem("darkMode")==="true";if(isDarkMode||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&localStorage.getItem("darkMode")===null){htmlElement.classList.add("dark-theme");themeToggleBtn.innerHTML='<i class="fas fa-sun"></i>'}else{htmlElement.classList.remove("dark-theme");themeToggleBtn.innerHTML='<i class="fas fa-moon"></i>'}themeToggleBtn.addEventListener("click",(function(){if(htmlElement.classList.contains("dark-theme")){htmlElement.classList.remove("dark-theme");localStorage.setItem("darkMode","false");themeToggleBtn.innerHTML='<i class="fas fa-moon"></i>'}else{htmlElement.classList.add("dark-theme");localStorage.setItem("darkMode","true");themeToggleBtn.innerHTML='<i class="fas fa-sun"></i>'}}))}function initMobileMenu(){const mobileMenuToggle=document.querySelector(".mobile-menu-toggle");const navList=document.querySelector(".nav-list");if(!mobileMenuToggle||!navList)return;mobileMenuToggle.addEventListener("click",(function(){mobileMenuToggle.classList.toggle("active");navList.classList.toggle("active")}));document.addEventListener("click",(function(event){if(!event.target.closest(".main-nav")&&navList.classList.contains("active")){mobileMenuToggle.classList.remove("active");navList.classList.remove("active")}}));window.addEventListener("resize",(function(){if(window.innerWidth>767&&navList.classList.contains("active")){mobileMenuToggle.classList.remove("active");navList.classList.remove("active")}}))}function initScrollAnimation(){const elements=document.querySelectorAll(".skill-progress-bar, .mern-card, .project-card, .soft-skill-card, .timeline-item, .achievement-card");const observer=new IntersectionObserver((entries=>{entries.forEach((entry=>{if(entry.isIntersecting){if(entry.target.classList.contains("skill-progress-bar")){const width=entry.target.style.width;entry.target.style.width="0";setTimeout((()=>{entry.target.style.width=width}),100)}else{entry.target.classList.add("animated")}observer.unobserve(entry.target)}}))}),{threshold:.1});elements.forEach((element=>{observer.observe(element)}))}function initSmoothScroll(){const anchorLinks=document.querySelectorAll('a[href^="#"]:not([href="#"])');anchorLinks.forEach((link=>{link.addEventListener("click",(function(e){e.preventDefault();const targetId=this.getAttribute("href");const targetElement=document.querySelector(targetId);if(targetElement){const headerHeight=document.querySelector(".header").offsetHeight;const targetPosition=targetElement.getBoundingClientRect().top+window.pageYOffset-headerHeight;window.scrollTo({top:targetPosition,behavior:"smooth"});const navList=document.querySelector(".nav-list");const mobileMenuToggle=document.querySelector(".mobile-menu-toggle");if(navList&&navList.classList.contains("active")){navList.classList.remove("active");mobileMenuToggle.classList.remove("active")}}}))}))}function initFaqAccordion(){const faqQuestions=document.querySelectorAll(".faq-question");faqQuestions.forEach((question=>{question.addEventListener("click",(function(){this.classList.toggle("active");faqQuestions.forEach((q=>{if(q!==this&&q.classList.contains("active")){q.classList.remove("active")}}))}))}))}function initContactForm(){const contactForm=document.getElementById("contact-form");const formStatus=document.getElementById("form-status");contactForm.addEventListener("submit",(function(e){e.preventDefault();const formData={name:contactForm.querySelector("#name").value,email:contactForm.querySelector("#email").value,subject:contactForm.querySelector("#subject").value,message:contactForm.querySelector("#message").value};if(!formData.name||!formData.email||!formData.message){showFormStatus("error","Please fill in all required fields.");return}if(!isValidEmail(formData.email)){showFormStatus("error","Please enter a valid email address.");return}showFormStatus("success","Thank you for your message! I will get back to you soon.");contactForm.reset()}));function isValidEmail(email){const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return emailRegex.test(email)}function showFormStatus(type,message){formStatus.textContent=message;formStatus.className="form-status "+type;setTimeout((()=>{formStatus.className="form-status"}),5e3)}}